import{a as p}from"./index-B9ygI19o.js";const d="https://api.open-meteo.com/v1/forecast",l=-25.7479,f=28.2293;async function _(t,o){try{const n=await p.get(d,{params:{latitude:l,longitude:f,start_date:t,end_date:o,daily:"temperature_2m_max,temperature_2m_min,precipitation_sum,weathercode",timezone:"Africa/Johannesburg"}}),{daily:e}=n.data;if(!e||!e.time)throw new Error("Invalid weather data response");return e.time.map((r,a)=>{const s=(e.temperature_2m_max[a]+e.temperature_2m_min[a])/2,c=e.weathercode[a];return{date:r,temp:Math.round(s*10)/10,condition:w(c),precipitation:e.precipitation_sum[a]}})}catch(n){return console.error("Failed to fetch weather data:",n),g(t,o)}}function w(t){return t===0?"clear skies":t<=3?"partly cloudy":t<=48?"foggy":t<=67?"rainy":t<=77?"snowy":t<=82?"rain showers":t<=86?"snow showers":t<=99?"thunderstorms":"varied conditions"}function g(t,o){const n=new Date(t),e=new Date(o),i=[],r=new Date(n);for(;r<=e;){const a=Math.floor((r.getTime()-new Date(r.getFullYear(),0,0).getTime())/864e5),s=20+10*Math.sin(a/365*Math.PI*2),c=(Math.random()-.5)*10,m=Math.round((s+c)*10)/10,u=["clear skies","partly cloudy","cloudy","rainy","sunny"],h=u[Math.floor(Math.random()*u.length)];i.push({date:r.toISOString().split("T")[0],temp:m,condition:h,precipitation:Math.random()*5}),r.setDate(r.getDate()+1)}return i}export{_ as getWeatherData};
